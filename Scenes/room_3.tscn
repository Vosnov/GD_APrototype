[gd_scene load_steps=22 format=3 uid="uid://bekqfj12terc0"]

[ext_resource type="PackedScene" uid="uid://8t6un8bj7dwc" path="res://Nodes/Items/key_item.tscn" id="3_v7qhv"]
[ext_resource type="PackedScene" uid="uid://csw7n1a3otnlc" path="res://Nodes/Charecters/player.tscn" id="5_jafbj"]
[ext_resource type="PackedScene" uid="uid://728vxpr147if" path="res://Nodes/MainCamera.tscn" id="6_kg5le"]
[ext_resource type="Environment" uid="uid://gdlq5pc8nbfm" path="res://Env/test_scene.tres" id="8_fm3wb"]
[ext_resource type="PackedScene" uid="uid://c7pwkeixpxqiq" path="res://Nodes/Items/small_medkit.tscn" id="9_7g4ci"]
[ext_resource type="PackedScene" uid="uid://cpy35egbnp8ao" path="res://Models/TestModels/Floor/floor.glb" id="10_8ulme"]
[ext_resource type="PackedScene" uid="uid://bqfcpdoke7pig" path="res://Nodes/Charecters/Enemy/enemy_type_1.tscn" id="10_adyxq"]
[ext_resource type="PackedScene" uid="uid://b3vkk1qyqod6g" path="res://Nodes/Interractive/door.tscn" id="10_b48wn"]
[ext_resource type="PackedScene" uid="uid://mpp20i3kxkg6" path="res://Models/TestModels/Pillar/pillar.tscn" id="10_cy0vx"]
[ext_resource type="PackedScene" uid="uid://biub747vk5dad" path="res://Nodes/Helpers/room_config.tscn" id="10_jwiw2"]
[ext_resource type="Resource" uid="uid://c730xco70xo26" path="res://Data/Maps/test_floor_maps.tres" id="11_oakwf"]
[ext_resource type="PackedScene" uid="uid://drku7n1fhjc6h" path="res://Models/TestModels/Wall/wall.glb" id="11_t0axw"]
[ext_resource type="PackedScene" uid="uid://bubulwo3lfq2u" path="res://Models/TestModels/Box/box.tscn" id="13_0ommt"]

[sub_resource type="NavigationMesh" id="NavigationMesh_2bwaj"]
vertices = PackedVector3Array(-2.5, 0.5, 4.5, -2.75, 0.5, -1.25, -4.25, 0.5, -1.25, 5.5, 0.5, -1.25, 2.75, 0.5, -1.25, 2.75, 0.5, 4.25, 5.5, 0.5, 5.5, -5.5, 0.5, -2, -4.75, 0.5, -1.75, -4.75, 0.5, -8.25, -5.5, 0.5, -9.5, 5.5, 0.5, 5.5, 2.75, 0.5, 4.25, 2.25, 0.5, 4.75, -2.5, 0.5, 4.5, -4.25, 0.5, -1.25, -4.75, 0.5, -1.75, -5.5, 0.5, -2, -5.5, 0.5, 5.5, -5.5, 0.5, 5.5, 5.5, 0.5, 5.5, 2.25, 0.5, 4.75, -2.5, 0.5, 4.5, -4.75, 0.5, -8.25, 5.5, 0.5, -8.5, 5.5, 0.5, -9.5, -5.5, 0.5, -9.5, 2.5, 0.5, -2.5, 2.5, 0.5, -4, 2, 0.5, -4.25, 1.25, 0.5, -2.25, -3.5, 0.5, -7.25, -3.25, 0.5, -6, -2, 0.5, -5.75, 2, 0.5, -5.75, 2, 0.5, -7.25, -2, 0.5, -5.75, -2, 0.5, -4.25, -1.5, 0.5, -2.25, 1.25, 0.5, -2.25, 2, 0.5, -4.25, 2, 0.5, -5.75, -2, 0.5, -4.25, -3.25, 0.5, -4, -3.5, 0.5, -2.5, -1.5, 0.5, -2.25, -1.25, 0.5, 3.5, 1.25, 0.5, 3.5, 1.25, 0.5, -2.25, -1.5, 0.5, -2.25, 4.75, 0.5, -5.25, 5.5, 0.5, -5.75, 5.25, 0.5, -7.25, 4, 0.5, -5.75, 4, 0.5, -4.25, 2.5, 0.5, -4, 2.5, 0.5, -2.5, 4.75, 0.5, -2.5, 4, 0.5, -5.75, 5.25, 0.5, -7.25, 2, 0.5, -7.25, 2, 0.5, -5.75, 4, 0.5, -4.25, 4.75, 0.5, -2.5, 4.75, 0.5, -5.25, 4, 0.5, -5.75)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(4, 3, 5), PackedInt32Array(5, 3, 6), PackedInt32Array(8, 7, 9), PackedInt32Array(9, 7, 10), PackedInt32Array(11, 13, 12), PackedInt32Array(16, 15, 17), PackedInt32Array(17, 15, 14), PackedInt32Array(17, 14, 18), PackedInt32Array(22, 21, 19), PackedInt32Array(19, 21, 20), PackedInt32Array(24, 23, 25), PackedInt32Array(25, 23, 26), PackedInt32Array(28, 27, 29), PackedInt32Array(29, 27, 30), PackedInt32Array(32, 31, 33), PackedInt32Array(33, 31, 34), PackedInt32Array(34, 31, 35), PackedInt32Array(37, 36, 38), PackedInt32Array(38, 36, 39), PackedInt32Array(39, 36, 40), PackedInt32Array(40, 36, 41), PackedInt32Array(43, 42, 44), PackedInt32Array(44, 42, 45), PackedInt32Array(47, 46, 48), PackedInt32Array(48, 46, 49), PackedInt32Array(50, 53, 51), PackedInt32Array(51, 53, 52), PackedInt32Array(55, 54, 56), PackedInt32Array(56, 54, 57), PackedInt32Array(61, 60, 58), PackedInt32Array(58, 60, 59), PackedInt32Array(65, 64, 62), PackedInt32Array(62, 64, 63)]

[sub_resource type="BoxShape3D" id="BoxShape3D_4tyfx"]
size = Vector3(0.1, 4, 4)

[sub_resource type="BoxShape3D" id="BoxShape3D_b5pni"]
size = Vector3(0.1, 4, 2)

[sub_resource type="BoxShape3D" id="BoxShape3D_4ks5u"]
size = Vector3(0.1, 4, 6)

[sub_resource type="BoxShape3D" id="BoxShape3D_6vqkv"]
size = Vector3(0.1, 4, 6)

[sub_resource type="BoxShape3D" id="BoxShape3D_ge5su"]
size = Vector3(0.1, 4, 6)

[sub_resource type="BoxShape3D" id="BoxShape3D_psp47"]
size = Vector3(0.1, 4, 10)

[sub_resource type="BoxShape3D" id="BoxShape3D_7fnq2"]
size = Vector3(15, 0.1, 15)

[node name="Room3" type="Node3D"]

[node name="KeyItem" parent="." instance=ExtResource("3_v7qhv")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.47117, 1.17306, -4.16863)

[node name="Door" parent="." instance=ExtResource("10_b48wn")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 4.5)
NAME = "Back"
NEXT_SCENE = "res://Scenes/test_scene.tscn"

[node name="EnemyType1" parent="." instance=ExtResource("10_adyxq")]
transform = Transform3D(-0.0405155, 0, -0.999179, 0, 1, 0, 0.999179, 0, -0.0405155, 3.618, 1, -6.499)

[node name="EnemyType2" parent="." instance=ExtResource("10_adyxq")]
transform = Transform3D(0.164617, 0, -0.986357, 0, 1, 0, 0.986357, 0, 0.164617, -1.805, 1, -6.773)

[node name="GPUParticlesCollisionBox3D" type="GPUParticlesCollisionBox3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
size = Vector3(40, 1, 40)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource("8_fm3wb")

[node name="Lights" type="Node" parent="."]

[node name="SpotLight3D" type="SpotLight3D" parent="Lights"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 2.8, 0)
shadow_enabled = true
spot_range = 7.0
spot_angle = 60.0

[node name="SpotLight3D2" type="SpotLight3D" parent="Lights"]
transform = Transform3D(0.965926, 1.13133e-08, -0.258819, 0.258819, -4.2222e-08, 0.965926, 0, -1, -4.37114e-08, -2.21175, 2.39342, -5)
shadow_enabled = true
spot_range = 6.0

[node name="SpotLight3D3" type="SpotLight3D" parent="Lights"]
transform = Transform3D(0.965926, 4.94522e-16, 0.258819, -0.258819, 1.84558e-15, 0.965926, 0, -1, 1.91069e-15, 2.22066, 2.327, -5)
light_energy = 1.5
shadow_enabled = true
spot_range = 7.0

[node name="SmallMedkit" parent="." instance=ExtResource("9_7g4ci")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.43512, 1.1452, -2.56532)

[node name="RoomConfig" parent="." instance=ExtResource("10_jwiw2")]
FLOOR_MAPS_DATA = ExtResource("11_oakwf")

[node name="Center" parent="RoomConfig" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 2)

[node name="Door2" parent="RoomConfig" instance=ExtResource("10_b48wn")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, -4.5, 1, -7)
NAME = "Close"
ACCEPT_STATE = 2

[node name="PlayerNodes" type="Node" parent="."]

[node name="Player2" parent="PlayerNodes" instance=ExtResource("5_jafbj")]
transform = Transform3D(1, 0, 1.06581e-14, 0, 1, 0, -1.06581e-14, 0, 1, 0, 1, 3)

[node name="CameraController2" parent="PlayerNodes" node_paths=PackedStringArray("TARGET") instance=ExtResource("6_kg5le")]
transform = Transform3D(1, 0, 1.06581e-14, 0, 1, 0, -1.06581e-14, 0, 1, 0, 1, 3)
TARGET = NodePath("../Player2")

[node name="Level" type="Node" parent="."]

[node name="floor2" parent="Level" instance=ExtResource("10_8ulme")]
transform = Transform3D(6, 0, 0, 0, -1, 6.99382e-07, 0, -8.74228e-08, -8, 0, 3, -2)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="Level"]
navigation_mesh = SubResource("NavigationMesh_2bwaj")

[node name="Pillar" parent="Level/NavigationRegion3D" instance=ExtResource("10_cy0vx")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -3, 0, -5)

[node name="Pillar2" parent="Level/NavigationRegion3D" instance=ExtResource("10_cy0vx")]
transform = Transform3D(1.31134e-07, 0, -1, 0, 1, 0, 1, 0, 1.31134e-07, 3, 0, -5)

[node name="Walls" type="Node" parent="Level/NavigationRegion3D"]

[node name="StaticBody3D" type="StaticBody3D" parent="Level/NavigationRegion3D/Walls"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 0, 1, 4)

[node name="wall" parent="Level/NavigationRegion3D/Walls/StaticBody3D" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1)

[node name="wall2" parent="Level/NavigationRegion3D/Walls/StaticBody3D" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/NavigationRegion3D/Walls/StaticBody3D"]
shape = SubResource("BoxShape3D_4tyfx")

[node name="StaticBody3D5" type="StaticBody3D" parent="Level/NavigationRegion3D/Walls"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 4, 1, -2)

[node name="wall" parent="Level/NavigationRegion3D/Walls/StaticBody3D5" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1)

[node name="wall2" parent="Level/NavigationRegion3D/Walls/StaticBody3D5" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/NavigationRegion3D/Walls/StaticBody3D5"]
shape = SubResource("BoxShape3D_4tyfx")

[node name="StaticBody3D6" type="StaticBody3D" parent="Level/NavigationRegion3D/Walls"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -4, 1, -2)

[node name="wall2" parent="Level/NavigationRegion3D/Walls/StaticBody3D6" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/NavigationRegion3D/Walls/StaticBody3D6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1)
shape = SubResource("BoxShape3D_b5pni")

[node name="StaticBody3D7" type="StaticBody3D" parent="Level/NavigationRegion3D/Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4, 1, -4)

[node name="wall" parent="Level/NavigationRegion3D/Walls/StaticBody3D7" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1)

[node name="wall3" parent="Level/NavigationRegion3D/Walls/StaticBody3D7" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -3)

[node name="wall2" parent="Level/NavigationRegion3D/Walls/StaticBody3D7" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/NavigationRegion3D/Walls/StaticBody3D7"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1)
shape = SubResource("BoxShape3D_4ks5u")

[node name="StaticBody3D9" type="StaticBody3D" parent="Level/NavigationRegion3D/Walls"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 6, 1, -4)

[node name="wall" parent="Level/NavigationRegion3D/Walls/StaticBody3D9" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1)

[node name="wall2" parent="Level/NavigationRegion3D/Walls/StaticBody3D9" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1)

[node name="wall3" parent="Level/NavigationRegion3D/Walls/StaticBody3D9" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.76837e-07, 0, 3)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/NavigationRegion3D/Walls/StaticBody3D9"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1)
shape = SubResource("BoxShape3D_6vqkv")

[node name="StaticBody3D2" type="StaticBody3D" parent="Level/NavigationRegion3D/Walls"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 2, 1, 2)

[node name="wall" parent="Level/NavigationRegion3D/Walls/StaticBody3D2" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1)

[node name="wall3" parent="Level/NavigationRegion3D/Walls/StaticBody3D2" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.19209e-07, 0, 3)

[node name="wall2" parent="Level/NavigationRegion3D/Walls/StaticBody3D2" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/NavigationRegion3D/Walls/StaticBody3D2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.19209e-07, 0, 1)
shape = SubResource("BoxShape3D_ge5su")

[node name="StaticBody3D4" type="StaticBody3D" parent="Level/NavigationRegion3D/Walls"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 2, 1, 2)

[node name="wall" parent="Level/NavigationRegion3D/Walls/StaticBody3D4" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1)

[node name="wall3" parent="Level/NavigationRegion3D/Walls/StaticBody3D4" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.19209e-07, 0, 3)

[node name="wall2" parent="Level/NavigationRegion3D/Walls/StaticBody3D4" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/NavigationRegion3D/Walls/StaticBody3D4"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.19209e-07, 0, 1)
shape = SubResource("BoxShape3D_ge5su")

[node name="StaticBody3D3" type="StaticBody3D" parent="Level/NavigationRegion3D/Walls"]
transform = Transform3D(1, 0, 1.74846e-07, 0, 1, 0, -1.74846e-07, 0, 1, -2, 1, 0)

[node name="wall" parent="Level/NavigationRegion3D/Walls/StaticBody3D3" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1)

[node name="wall3" parent="Level/NavigationRegion3D/Walls/StaticBody3D3" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.19209e-07, 0, 3)

[node name="wall2" parent="Level/NavigationRegion3D/Walls/StaticBody3D3" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/NavigationRegion3D/Walls/StaticBody3D3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.19209e-07, 0, 1)
shape = SubResource("BoxShape3D_ge5su")

[node name="StaticBody3D8" type="StaticBody3D" parent="Level/NavigationRegion3D/Walls"]
transform = Transform3D(1.31134e-07, 0, -1, 0, 1, 0, 1, 0, 1.31134e-07, 0, 1, -8)

[node name="wall" parent="Level/NavigationRegion3D/Walls/StaticBody3D8" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1)

[node name="wall4" parent="Level/NavigationRegion3D/Walls/StaticBody3D8" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.76837e-07, 0, -3)

[node name="wall5" parent="Level/NavigationRegion3D/Walls/StaticBody3D8" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.76837e-07, 0, -5)

[node name="wall3" parent="Level/NavigationRegion3D/Walls/StaticBody3D8" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.19209e-07, 0, 3)

[node name="wall2" parent="Level/NavigationRegion3D/Walls/StaticBody3D8" instance=ExtResource("11_t0axw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/NavigationRegion3D/Walls/StaticBody3D8"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.76837e-07, 0, -1)
shape = SubResource("BoxShape3D_psp47")

[node name="Box" parent="Level/NavigationRegion3D" instance=ExtResource("13_0ommt")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 6, 0, -3.04822)

[node name="Box3" parent="Level/NavigationRegion3D" instance=ExtResource("13_0ommt")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 6, 0, -3.75037)

[node name="Box4" parent="Level/NavigationRegion3D" instance=ExtResource("13_0ommt")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 6, 0, -4.44793)

[node name="Box2" parent="Level/NavigationRegion3D" instance=ExtResource("13_0ommt")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 6, 0, -2.35198)

[node name="StaticBody3D" type="StaticBody3D" parent="Level/NavigationRegion3D"]

[node name="floor" parent="Level/NavigationRegion3D/StaticBody3D" instance=ExtResource("10_8ulme")]
transform = Transform3D(6, 0, 0, 0, 1, 0, 0, 0, 8, 0, 0, -2)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Level/NavigationRegion3D/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -2)
shape = SubResource("BoxShape3D_7fnq2")

[editable path="RoomConfig"]
